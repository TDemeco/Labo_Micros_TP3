/***************************************************************************//**
  @file     App.c
  @brief    //
  @author   Matias Tripoli - Tobias Demeco
 ******************************************************************************/

/*******************************************************************************
 * INCLUDE HEADER FILES
 ******************************************************************************/  

#include "FSM.h"
#include "FSMTable.h"
#include "led_module.h"
#include "validation.h"
#include "encoder_board_app.h"

/*******************************************************************************
 * CONSTANT AND MACRO DEFINITIONS USING #DEFINE
 ******************************************************************************/

/*******************************************************************************
 * CONSTANTS
 ******************************************************************************/

/*******************************************************************************
 * FUNCTION PROTOTYPES FOR PRIVATE FUNCTIONS WITH FILE LEVEL SCOPE
 ******************************************************************************/
State_Type *p2state;
/*******************************************************************************
 *******************************************************************************
                        GLOBAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/
void App_init()
{
  User newUser = {{1,1,1,1,1,1,1,1}, {1,2,3,4}, true};
  addNewId(newUser);
  User newUser = {{1,2,3,4,5,6,7,8}, {1,1,1,1}, false};
  addNewId(newUser);

  p2state = access;         /*Used to store FSM state*/
  encoderBoardAppInit();
}


void App_run()
{
  encoderBoardAppEvents event = getEncoderBoardAppEvent();
  p2state = fsm(p2state, event);
}

